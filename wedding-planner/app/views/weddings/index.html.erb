<h1>Wedding To Do's</h1>

<ul>
<% @weddings.each do |wedding| %>
  <li><a href="/weddings/<%= wedding[:id] %>"><%= wedding[:couple_name] %></a></li>
<% end %>
</ul>

<form action='/weddings' method='POST'>
<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
<ul>
<li>Couple's names</li>
<input type="text" name="couple_name">
<li>Pick a date</li>
 <input type="date" name="date" class="datepicker">
<li>Set a budget</li>
<div class='row'>
<div id='test5'></div>
</div>
<div class='row'>
  <input disabled id='min-val' class='col s6'>
  <input disabled id='max-val' class='col s6'>

</div>
<li>Create a guestlist</li>
<li>Choose a venue</li>

<%
@parsedData = JSON.parse(@body)
%>

<h1>Hotels</h1>

<ul id='cards' class='row'>
<% @parsedData["businesses"].each do |hi| %>
<li class='col s6 m4 l3' style='opacity:0'>
<div class='card small clearfix'>
<div class='card-image'>
              <img src="<%= hi["image_url"] %>">
              <span class="card-title"><%= hi["name"].html_safe %></span>
            </div>
            <div class="card-content">
              <p><%= hi["price"] %><br>
              <%= hi["location"]["city"] %>, <%= hi["location"]["state"] %></p>
            </div>
            <div class="card-action">
              <a href='<%= hi["url"] %>'>Yelp link</a>
            </div>

          </div>
</li>
<% end %>
</ul>

<button class='btn'>Submit</button>
</form>


<script>
  var slider = document.getElementById('test5');
  noUiSlider.create(slider, {
   start: [5000, 7000],
   connect: true,
   step: 1000,
   range: {
     'min': 0,
     'max': 20000
   },
   format: wNumb({
     decimals: 0
   })
  });

  slider.noUiSlider.on('update', function( values, handle ) {
    $('#min-val').val(values[0]);
    $('#max-val').val(values[1]);
  });



  $('.datepicker').pickadate({
    selectMonths: true, // Creates a dropdown to control month
    selectYears: 15 // Creates a dropdown of 15 years to control year
  });

  $(function(){
    Materialize.showStaggeredList('#cards')
  })
</script>
